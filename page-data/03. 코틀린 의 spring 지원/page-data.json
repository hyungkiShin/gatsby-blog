{"componentChunkName":"component---src-templates-post-jsx","path":"/03. 코틀린 의 spring 지원/","result":{"data":{"site":{"siteMetadata":{"title":"hyungkishin.blog"}},"markdownRemark":{"id":"e9a49e5e-5d32-51d3-85c7-49e5b4016fd1","excerpt":"공식문서 https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-servlet.html 공식 문서의 샘플 코드를 보면 kotlin 탭을 제공  Spring initializr 기본 언어로 코틀린을 선택할 수 있고 코틀린인 경우 Gradle Project를 선택하면 빌드 설정 을 기반으로 생성해준…","html":"<h1>공식문서</h1>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-servlet.html\">https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-servlet.html</a></li>\n<li>공식 문서의 샘플 코드를 보면 kotlin 탭을 제공</li>\n</ul>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 1rem;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/91afd7f1810be84d0b8328323c194071/d9c1b/img_1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 34.11764705882353%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsElEQVR42qWR0Q6CMAxF9/F8GvFFvoAHNVHUQVAGyMZGd8x48sVE4k1umrTNbXurimJPlmVorUmIMfIP1OlUkec76qbG9AZjDONo8X5J8uuAX2itJYSAevQvJjvj3czs3JpcRDZvmvpFBNU+R6prQ9t0dO3AZF2qEmX76UlULTFyvmjK8sDxcuR+0zyeLdemYppf2wWjCNZ5+mGitx0+eCQKQcIaNwsmzz79+vUJ3/gGDuslaOxxliQAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='img_1.png' title='' src='/static/91afd7f1810be84d0b8328323c194071/ca1dc/img_1.png' srcset='/static/91afd7f1810be84d0b8328323c194071/e7570/img_1.png 170w,\n/static/91afd7f1810be84d0b8328323c194071/f46e7/img_1.png 340w,\n/static/91afd7f1810be84d0b8328323c194071/ca1dc/img_1.png 680w,\n/static/91afd7f1810be84d0b8328323c194071/02d09/img_1.png 1020w,\n/static/91afd7f1810be84d0b8328323c194071/d9c1b/img_1.png 1040w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>img_1.png</figcaption>\n  </figure></p>\n<h1>Spring initializr</h1>\n<ul>\n<li>기본 언어로 코틀린을 선택할 수 있고 코틀린인 경우 Gradle Project를 선택하면 빌드 설정 을 기반으로 생성해준다</li>\n<li>Spring initialzr 를 통해 생성된 build.gralde.kts</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token keyword\">import</span> org<span class=\"token punctuation\">.</span>jetbrains<span class=\"token punctuation\">.</span>kotlin<span class=\"token punctuation\">.</span>gradle<span class=\"token punctuation\">.</span><span class=\"token keyword\">tasks</span><span class=\"token punctuation\">.</span>KotlinCompile\n\n<span class=\"token keyword\">plugins</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token function\">id</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"org.springframework.boot\"</span></span><span class=\"token punctuation\">)</span> version <span class=\"token interpolation-string\"><span class=\"token string\">\"2.6.7\"</span></span> \n    <span class=\"token function\">id</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"io.spring.dependency-management\"</span></span><span class=\"token punctuation\">)</span> version <span class=\"token interpolation-string\"><span class=\"token string\">\"1.0.11.RELEASE\"</span></span> \n    <span class=\"token function\">kotlin</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"jvm\"</span></span><span class=\"token punctuation\">)</span> version <span class=\"token interpolation-string\"><span class=\"token string\">\"1.6.21\"</span></span> \n    <span class=\"token function\">kotlin</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"plugin.spring\"</span></span><span class=\"token punctuation\">)</span> version <span class=\"token interpolation-string\"><span class=\"token string\">\"1.6.21\"</span></span>\n<span class=\"token punctuation\">}</span>\n\ngroup <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"com.example\"</span></span>\n\nversion <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"0.0.1-SNAPSHOT\"</span></span>\n\njava<span class=\"token punctuation\">.</span>sourceCompatibility <span class=\"token operator\">=</span> JavaVersion<span class=\"token punctuation\">.</span>VERSION_11\n\n<span class=\"token keyword\">repositories</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token function\">mavenCentral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">dependencies</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token keyword\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"org.springframework.boot:spring-boot-starter\"</span></span><span class=\"token punctuation\">)</span> \n    <span class=\"token keyword\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"org.jetbrains.kotlin:kotlin-reflect\"</span></span><span class=\"token punctuation\">)</span> \n    <span class=\"token keyword\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"</span></span><span class=\"token punctuation\">)</span> \n    <span class=\"token function\">testImplementation</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"org.springframework.boot:spring-boot-starter-test\"</span></span><span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">tasks</span><span class=\"token punctuation\">.</span>withType<span class=\"token operator\">&lt;</span>KotlinCompile<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> \nkotlinOptions <span class=\"token punctuation\">{</span> \n        freeCompilerArgs <span class=\"token operator\">=</span> <span class=\"token function\">listOf</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"-Xjsr305=strict\"</span></span><span class=\"token punctuation\">)</span> jvmTarget <span class=\"token operator\">=</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"11\"</span></span> \n    <span class=\"token punctuation\">}</span> \n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">tasks</span><span class=\"token punctuation\">.</span>withType<span class=\"token operator\">&lt;</span>Test<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> \n    <span class=\"token function\">useJUnitPlatform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>코틀린 스프링 프로젝트에서 필수적인 플러그인</p>\n<ul>\n<li>kotlin(\"plugin.spring\")</li>\n</ul>\n</li>\n<li>\n<p>코틀린 스프링 프로젝트에서 필수적인 의존성</p>\n<ul>\n<li>org.jetbrains.kotlin:kotlin-reflect</li>\n<li>org.jetbrains.kotlin:kotlin-stdlib</li>\n</ul>\n</li>\n</ul>\n<p>이외에도 plugin.jpa, jackson-module-kotlin 등 프로젝트를 구성하면서 필요한 플러그인 과 <br/>\n코틀린 의존성이 있고 Springinitialzr에서 프로젝트를 구성할 경우 자동으로 세팅해준다</p>\n<h1>스프링 부트</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">@SpringBootApplication class DemoApplication\n\n// fun 탑- 레벨 함수이므로 클래스 바깥에서{ 호출\nmain(args: Array&lt;String>) {\n    runApplication&lt;DemoApplication>(*args)\n}</code></pre></div>\n<h3>@ConfigurationProperties</h3>\n<ul>\n<li>스프링 애플리케이션에 지정한 설정을 기반으로 설정 클래스를 만들때, <br/>\n@ConstructorBinding 을 사용하면 setter가 아닌 생성자를 통해 바인딩 하므로 <br/>\n불변 객체를 쉽게 생성할 수 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@ConstructorBinding</span>\n<span class=\"token annotation builtin\">@ConfigurationProperties</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"example.kotlin\"</span></span><span class=\"token punctuation\">)</span> \n\n<span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">KotlinExampleProperties</span><span class=\"token punctuation\">(</span>\n                <span class=\"token keyword\">val</span> name<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n                <span class=\"token keyword\">val</span> description<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n                <span class=\"token keyword\">val</span> myService<span class=\"token operator\">:</span> MyService\n                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">MyService</span><span class=\"token punctuation\">(</span>\n            <span class=\"token keyword\">val</span> apiToken<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n            <span class=\"token keyword\">val</span> uri<span class=\"token operator\">:</span> URI\n        <span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>테스트 지원</h3>\n<ul>\n<li>기본 제공되는 Junit5 기반의 테스트를 특별한 설정 없이 그대로 사용이 가능하다 </li>\n<li>모의 객체를 만들어 테스트하려면 Mockito 대신 MockK를 사용할 수 있다</li>\n</ul>","frontmatter":{"title":"코틀린의 spring 지원","date":"January 12, 2024","update":"January 12, 2024","tags":["코틀린"],"series":null},"fields":{"slug":"/03. 코틀린 의 spring 지원/","readingTime":{"minutes":1.185}}},"seriesList":{"edges":[{"node":{"id":"af3fecac-0e35-5a3b-9c60-a1611cbdd99b","fields":{"slug":"/deploy-strategy/"},"frontmatter":{"title":"배포전략"}}},{"node":{"id":"cc53ce57-b775-57e1-b31a-eb305d25d33e","fields":{"slug":"/02. 자바와 코틀린의 차이점/"},"frontmatter":{"title":"자바와 코틀린의 차이점"}}},{"node":{"id":"6b847cea-aecf-5585-b7b7-cd69d9aa8c7f","fields":{"slug":"/01 코들린의 현재와 미래/"},"frontmatter":{"title":"코틀린의 현재와 미래"}}},{"node":{"id":"e9a49e5e-5d32-51d3-85c7-49e5b4016fd1","fields":{"slug":"/03. 코틀린 의 spring 지원/"},"frontmatter":{"title":"코틀린의 spring 지원"}}}]},"previous":{"fields":{"slug":"/01 코들린의 현재와 미래/"},"frontmatter":{"title":"코틀린의 현재와 미래"}},"next":null},"pageContext":{"id":"e9a49e5e-5d32-51d3-85c7-49e5b4016fd1","series":null,"previousPostId":"6b847cea-aecf-5585-b7b7-cd69d9aa8c7f","nextPostId":null}},"staticQueryHashes":[],"slicesMap":{}}